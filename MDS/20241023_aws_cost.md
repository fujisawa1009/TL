137068253713

■Cost Explorer を使って利用料金を正しく把握する
・Tag はコスト配分タグによりフィルターです。
・AWS Budgets: コスト上限を設定し、予算を超えた場合に通知を受け取る
※権限付与にはIAMのポリシーより、ポリシーエディタは[ビジュアル] (デフォルト) にしたまま、サービスを選択より [Cost Explorer Service] を選択。
するとAWS Cost Explorer のアクション(ce)の一覧が表示されます。Effect では [許可] (デフォルト) を選択し、今回は [すべての Cost Explorer Service アクション (ce:*)] にチェックを入れる。
https://techblog.nhn-techorus.com/archives/29218　←設定色々サイト
【履歴データ】
・月単位の詳細度の複数年データ (最大 38 か月間の過去データ)
・日単位の詳細度 (最大 14 日間の過去データ)
・日単位の詳細度 (最大 14 日間の過去データ)
・EC2 インスタンス (Amazon Elastic Compute Cloud – Compute) リソースレベルのデータ

■AWS Cost Explorer の料金
AWS Cost Explorer API、、各リクエストには 0.01 USD の費用がかかる。

■AWSの費用見積り　AWS公式の簡易見積りツール
https://calculator.aws/#/?key=new
使い方
https://www.slideshare.net/slideshow/aws-simple-monthly-calculator-20130910/27000771

■無料枠のEC2インスタンス作成
https://qiita.com/h-oikawa/items/3e16112288f31d3b021e

■サーバレス編（Lambda + API Gateway + DynamoDB で REST API を立てる）
https://qiita.com/h-oikawa/items/3e16112288f31d3b021e

■Lamda活用のサンプルに日次AWS料金サーバレス通知作るのよさそう
https://qiita.com/h-oikawa/items/3e16112288f31d3b021e


[データ転送について]
データ転送 ＝ 一番計算しずらい・・・が全体の10％ないに収まってる統計となってる。らしい？
基本的にAWS利用の10％内で収まるコスト
リージョンに対する下り通信にのみ料金がかかる。リージョンに対する上り通信は、料金がかからない。
リージョン内の通信（AZ間の通信も微細な費用がかかるが、見積もりに含めないのが一般的）
通信先リージョンで料金が異なる
 
■データ転送の参考試算
　 月あたりリクエスト数：25000
　 平均レスポンス(byte)：51200
　 1GBデータ量単価（OUT）：＄0.09
　 月額:(25000 X 51200 X ＄0.09)/1000000000byte　→ ＄0.1152
 
20GBまでの汎用SSDデータベースストレージで月750時間まで無料だが、
RDSのストレージには無料利用枠がなくストレージの使用料が発生する。
AWSの使用はどういう時に料金がかかるのか #インフラ - Qiita

■参考までのRDSランニングコスト（データ転送は量によるのでわからん）
無料利用枠には1年間毎月750時間分のdb.t2.microデータベース使用と20GBのデータベースストレージが含まれている
MySQL db.t2.microでは0.026USドル/時間(1時間につき約2.74円)の課金
用意しているストレージに対しても毎月0.138USドル/GB(1GBにつき毎月14.52円)課金されます。
20GBのストレージを用意と想定しているので、14.52円×20GB=290.4円の課金
MySQL db.t2.microを1ヶ月動かしておくと、2.74円×24時間×30日+290.4円=2263円かかる
これに、10%のデータ転送費用がかかると想定している



